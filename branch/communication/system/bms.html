<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Battery Management System | Building DC Energy Systems</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/branch/communication/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/branch/communication/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/branch/communication/favicons/favicon-16x16.png">
    <link rel="manifest" href="/branch/communication/favicons/site.webmanifest">
    <link rel="mask-icon" href="/branch/communication/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/branch/communication/favicons/favicon.ico">
    <meta name="description" content="Open Educational Resource (OER) by Libre Solar to explain how to develop, produce and use components for DC energy systems">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/branch/communication/assets/css/0.styles.80046f73.css" as="style"><link rel="preload" href="/branch/communication/assets/js/app.3011e4a5.js" as="script"><link rel="preload" href="/branch/communication/assets/js/3.1248d68c.js" as="script"><link rel="preload" href="/branch/communication/assets/js/12.7c005d40.js" as="script"><link rel="preload" href="/branch/communication/assets/js/44.1474cb5a.js" as="script"><link rel="preload" href="/branch/communication/assets/js/17.8553520e.js" as="script"><link rel="prefetch" href="/branch/communication/assets/js/1.f34d92d0.js"><link rel="prefetch" href="/branch/communication/assets/js/10.906c93cf.js"><link rel="prefetch" href="/branch/communication/assets/js/11.83f3917c.js"><link rel="prefetch" href="/branch/communication/assets/js/13.622dde99.js"><link rel="prefetch" href="/branch/communication/assets/js/14.68dde8eb.js"><link rel="prefetch" href="/branch/communication/assets/js/15.fa007e83.js"><link rel="prefetch" href="/branch/communication/assets/js/16.bfba9102.js"><link rel="prefetch" href="/branch/communication/assets/js/18.16199cf1.js"><link rel="prefetch" href="/branch/communication/assets/js/19.5e5335f0.js"><link rel="prefetch" href="/branch/communication/assets/js/20.549ccb1c.js"><link rel="prefetch" href="/branch/communication/assets/js/21.c27d59ad.js"><link rel="prefetch" href="/branch/communication/assets/js/22.5e1eec05.js"><link rel="prefetch" href="/branch/communication/assets/js/23.48ec4378.js"><link rel="prefetch" href="/branch/communication/assets/js/24.56cbef68.js"><link rel="prefetch" href="/branch/communication/assets/js/25.216fd8a0.js"><link rel="prefetch" href="/branch/communication/assets/js/26.1c72e929.js"><link rel="prefetch" href="/branch/communication/assets/js/27.56aaac83.js"><link rel="prefetch" href="/branch/communication/assets/js/28.1991a79e.js"><link rel="prefetch" href="/branch/communication/assets/js/29.8262e4b2.js"><link rel="prefetch" href="/branch/communication/assets/js/30.6e0a587e.js"><link rel="prefetch" href="/branch/communication/assets/js/31.03ce9d02.js"><link rel="prefetch" href="/branch/communication/assets/js/32.fa3a121d.js"><link rel="prefetch" href="/branch/communication/assets/js/33.785014a3.js"><link rel="prefetch" href="/branch/communication/assets/js/34.177d056d.js"><link rel="prefetch" href="/branch/communication/assets/js/35.9fd7fd17.js"><link rel="prefetch" href="/branch/communication/assets/js/36.fe5b7cb2.js"><link rel="prefetch" href="/branch/communication/assets/js/37.cd6fa781.js"><link rel="prefetch" href="/branch/communication/assets/js/38.cc3ef3a4.js"><link rel="prefetch" href="/branch/communication/assets/js/39.29989218.js"><link rel="prefetch" href="/branch/communication/assets/js/4.f3535127.js"><link rel="prefetch" href="/branch/communication/assets/js/40.b24b3623.js"><link rel="prefetch" href="/branch/communication/assets/js/41.b4f3a2d1.js"><link rel="prefetch" href="/branch/communication/assets/js/42.c10f4714.js"><link rel="prefetch" href="/branch/communication/assets/js/43.98a925f8.js"><link rel="prefetch" href="/branch/communication/assets/js/45.3f5cd47f.js"><link rel="prefetch" href="/branch/communication/assets/js/46.452ad7db.js"><link rel="prefetch" href="/branch/communication/assets/js/47.9d2b9bf1.js"><link rel="prefetch" href="/branch/communication/assets/js/48.0d7a325e.js"><link rel="prefetch" href="/branch/communication/assets/js/49.297319e0.js"><link rel="prefetch" href="/branch/communication/assets/js/5.1acad389.js"><link rel="prefetch" href="/branch/communication/assets/js/50.019dea08.js"><link rel="prefetch" href="/branch/communication/assets/js/51.a967dd3c.js"><link rel="prefetch" href="/branch/communication/assets/js/6.84702c01.js"><link rel="prefetch" href="/branch/communication/assets/js/7.d9c69024.js"><link rel="prefetch" href="/branch/communication/assets/js/8.49ea59c4.js"><link rel="prefetch" href="/branch/communication/assets/js/9.23791fb3.js">
    <link rel="stylesheet" href="/branch/communication/assets/css/0.styles.80046f73.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/branch/communication/" class="home-link router-link-active"><!----> <span class="site-name">Building DC Energy Systems</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/branch/communication/system/" class="nav-link router-link-active">
  System Layout
</a></div><div class="nav-item"><a href="/branch/communication/development/" class="nav-link">
  Component Development
</a></div><div class="nav-item"><a href="/branch/communication/production/" class="nav-link">
  Production
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/branch/communication/system/" class="nav-link router-link-active">
  System Layout
</a></div><div class="nav-item"><a href="/branch/communication/development/" class="nav-link">
  Component Development
</a></div><div class="nav-item"><a href="/branch/communication/production/" class="nav-link">
  Production
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Generation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/branch/communication/system/solar_panel.html" class="sidebar-link">Solar Panel</a></li><li><a href="/branch/communication/system/wind_turbine.html" class="sidebar-link">Wind Turbines</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Storage</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/branch/communication/system/battery.html" class="sidebar-link">Battery</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Power Electronics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/branch/communication/system/charge_controller.html" class="sidebar-link">Charge Controller</a></li><li><a href="/branch/communication/system/bms.html" aria-current="page" class="active sidebar-link">Battery Management System</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/branch/communication/system/bms.html#main-functions" class="sidebar-link">Main Functions</a></li><li class="sidebar-sub-header"><a href="/branch/communication/system/bms.html#topologies" class="sidebar-link">Topologies</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Connections</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/branch/communication/system/wires_fuses.html" class="sidebar-link">Wires and Fuses</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="battery-management-system"><a href="#battery-management-system" class="header-anchor">#</a> Battery Management System</h1> <p>A Battery Management System (BMS) is an electronic circuit that can manage a rechargeable device. Like most electronics, accumulators are limited in the voltage and current they can handle. While some are quite robust in terms of e.g. overvoltage or deep-discharge, it is vital especially for Li-on batteries, to monitor charge, discharge and charge cycles to ensure a long lifetime.
In most cases, the battery comes in a <strong>pack</strong>, which consists of multiple <strong>modules</strong>, which each again consists of multiple <strong>cells</strong>. A single cell is the atomic unit of a battery and comes in different shapes ([1]). The pouch and prismatic cell shapes are most used in consumer electronics (mobile phones, laptops). In applications with higher energy demand, prismatic, cylindrical and pouch shaped cells are common. Pouch cells need to be packed into modules, which includes a frame, sensors and sometimes features for cooling. Multiple modules are than stacked into a pack, which includes the BMS, cooling, fuses and necessary wiring amongst other components ([1]).</p> <h2 id="main-functions"><a href="#main-functions" class="header-anchor">#</a> Main Functions</h2> <h3 id="electric-cell-protection"><a href="#electric-cell-protection" class="header-anchor">#</a> Electric Cell Protection</h3> <p>As described in chapter <a href="/branch/communication/system/battery.html">&quot;Battery&quot;</a>, different cells have different minimum and maximum voltage levels as well as different phases while charging/discharging.
The BMS is responsible to measure the voltage, current and temperature and calculate the state of charge (SOC) of the cells are in order to apply the correct current or voltage.
It will optimise the charging rate and determine when to stop charging/discharging.</p> <p>To disconnect the battery from the load/charger, different types of switches can be used. For low current systems, a MOSFET switch is often easiest to use, while a mechanical or solid state relais can be necessary to switch higher voltages and currents.</p> <h3 id="thermal-protection"><a href="#thermal-protection" class="header-anchor">#</a> Thermal Protection</h3> <p>In order to keep the battery in a safe operational state, the thermal managmenent is vital. The system can either be active or passive, using mostly air or another liquid coolant. The necessary hardware like fans and their electronics are mostly not considered part of the BMS but are controlled by it.</p> <h3 id="balancing"><a href="#balancing" class="header-anchor">#</a> Balancing</h3> <p>To optimize performance and lifetime of battery packs, balancing is used to distribute load and prevent localized over- or under-charging of cells. Since cells differ slightly in capacity depending on the quality of the manufacturing process and used materials or by cell-aging, cells connected in series can show different voltages. To normalize the SOC for each cell, a BMS can either actively transfer energy from higher charged cells to those with lower SOC or passivly, mostly by wasting energy from cells with 100% SOC until every cell is fully charged.</p> <p>Passive balancing can be done by converting excessive charge to heat using a resistor. The resistor is connected in parallel to the cell and switched on with a transistor for the cells with higher voltage, thus having excessive charge in comparisons to the other cells in series. Passive balancing slightly increases the thermal energy dissipated by the pack and decreases the overall efficiency.</p> <p>Active balancing aims to distribute the energy better while charging and discharging, but need much more circuitry.</p> <h3 id="communication"><a href="#communication" class="header-anchor">#</a> Communication</h3> <p>A BMS can also feature communication capabilities to distribute information to other BMS, <a href="/branch/communication/system/charge_controller.html">charge-controllers</a> or logging systems. Commonly used for standalone setups is a serial connection while BUS connections like CAN are preferably used in systems with several components. See chapter <a href="/branch/communication/development/communication.html">Communication</a> for more.</p> <h3 id="bus-precharge"><a href="#bus-precharge" class="header-anchor">#</a> Bus precharge</h3> <p>A common feature may also be the connection to a load, including a precharge system. Precharging protects the load against high inrush currents when the battery is connected. To slowly charge large capacities in the load circuit, the load is connected over a resistor for a short period of time. Afterwards, the resistor is removed and the load connected normally.</p> <h2 id="topologies"><a href="#topologies" class="header-anchor">#</a> Topologies</h2> <h3 id="centralised"><a href="#centralised" class="header-anchor">#</a> Centralised</h3> <p>The BMS is directly connected to every single cell of the battery, monitoring several states in parallel. For standalone setups, where size is fixed, this topology is easiest to implement. The systems developed by Libre Solar follow this centralized approach.</p> <figure><center><img src="/branch/communication/images/system/bms_centralized.svg" alt="Centralized BMS layout" height="auto" width="auto"> <figcaption><b>Figure 1.</b> Centralized BMS layout.</figcaption></center></figure> <h3 id="distributed"><a href="#distributed" class="header-anchor">#</a> Distributed</h3> <p>A monitoring unit is connected to each cell, reporting information about the cell to a central controller. A good Open Source Project using this approach is Stuart Pittaways <a href="https://github.com/stuartpittaway/diyBMSv4" target="_blank" rel="noopener noreferrer">diyBMS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <figure><center><img src="/branch/communication/images/system/bms_distributed.svg" alt="Distributed BMS layout" height="auto" width="auto"> <figcaption><b>Figure 2.</b> Distributed BMS layout.</figcaption></center></figure> <h3 id="modular"><a href="#modular" class="header-anchor">#</a> Modular</h3> <p>A modular setup is designed for larger battery packs. A specialized board is connected to 8 to 16 cells, measuring cell voltages and temperatures. Each of those units is than connected to a main BMS controller, which is responsible for the analysis of the data. An Open Source Project can be found <a href="https://foxbms.org/" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <figure><center><img src="/branch/communication/images/system/bms_modular.svg" alt="Modular BMS layout" height="auto" width="auto"> <figcaption><b>Figure 3.</b> Modular BMS layout.</figcaption></center></figure> <h2>References</h2> <p>[1] Automotive Batteries 101, David Greenwood, University of Warwick,  2018 <a href="https://warwick.ac.uk/fac/sci/wmg/business/automotive_batteries_101_wmg-apc.pdf" target="_blank" rel="noopener noreferrer">Link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/LibreSolar/learn.libre.solar/edit/main/docs/system/bms.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/23/2021, 3:29:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/branch/communication/system/charge_controller.html" class="prev">
        Charge Controller
      </a></span> <span class="next"><a href="/branch/communication/system/wires_fuses.html">
        Wires and Fuses
      </a>
      →
    </span></p></div>  <div class="footer">
    Content provided by <a href="https://libre.solar">Libre Solar</a> under <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">CC-BY-SA 4.0 License</a> | <a href="https://libre.solar/about/contact/">Contact / Impressum</a></div></main></div><div class="global-ui"></div></div>
    <script src="/branch/communication/assets/js/app.3011e4a5.js" defer></script><script src="/branch/communication/assets/js/3.1248d68c.js" defer></script><script src="/branch/communication/assets/js/12.7c005d40.js" defer></script><script src="/branch/communication/assets/js/44.1474cb5a.js" defer></script><script src="/branch/communication/assets/js/17.8553520e.js" defer></script>
  </body>
</html>
